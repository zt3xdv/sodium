{
  "name": "Discord.py Bot",
  "description": "Discord bot using Discord.py",
  "author": "Sodium",
  "docker_images": {
    "Python 3.12": "python:3.12-slim",
    "Python 3.11": "python:3.11-slim"
  },
  "startup": "pip install -r requirements.txt && python {{MAIN_FILE}}",
  "config": {
    "files": {},
    "startup": {
      "done": "Logged in as"
    },
    "stop": "^C"
  },
  "scripts": {
    "install": {
      "container": "python:3.12-slim",
      "entrypoint": "/bin/bash",
      "script": "#!/bin/bash\ncd /mnt/server\nif [ ! -f requirements.txt ]; then\n  echo 'discord.py' > requirements.txt\n  cat > bot.py << 'EOF'\nimport discord\nimport os\n\nclient = discord.Client(intents=discord.Intents.default())\n\n@client.event\nasync def on_ready():\n    print(f'Logged in as {client.user}')\n\nclient.run(os.environ['DISCORD_TOKEN'])\nEOF\nfi"
    }
  },
  "variables": [
    {
      "name": "Discord Token",
      "description": "Your Discord bot token",
      "env_variable": "DISCORD_TOKEN",
      "default_value": "",
      "user_viewable": true,
      "user_editable": true,
      "rules": "required|string"
    },
    {
      "name": "Main File",
      "description": "Bot entry point file",
      "env_variable": "MAIN_FILE",
      "default_value": "bot.py",
      "user_viewable": true,
      "user_editable": true,
      "rules": "required|string|max:100"
    }
  ]
}
