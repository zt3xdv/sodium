{
  "name": "Deno Runtime",
  "description": "Secure runtime for JavaScript and TypeScript",
  "author": "Sodium",
  "docker_images": {
    "Deno Latest": "denoland/deno:latest",
    "Deno 1.40": "denoland/deno:1.40.0",
    "Deno Alpine": "denoland/deno:alpine"
  },
  "startup": "deno run --allow-net --allow-read --allow-env {{PERMISSIONS}} {{MAIN_FILE}}",
  "config": {
    "files": {},
    "startup": {
      "done": "listening"
    },
    "stop": "^C"
  },
  "scripts": {
    "install": {
      "container": "denoland/deno:latest",
      "entrypoint": "/bin/sh",
      "script": "#!/bin/sh\ncd /mnt/server\nif [ ! -f main.ts ]; then\n  echo 'Deno.serve({ port: 8000 }, () => new Response(\"Hello from Sodium!\"));' > main.ts\nfi"
    }
  },
  "variables": [
    {
      "name": "Main File",
      "description": "The main entry point file",
      "env_variable": "MAIN_FILE",
      "default_value": "main.ts",
      "user_viewable": true,
      "user_editable": true,
      "rules": "required|string|max:100"
    },
    {
      "name": "Additional Permissions",
      "description": "Additional Deno permissions (e.g., --allow-write)",
      "env_variable": "PERMISSIONS",
      "default_value": "",
      "user_viewable": true,
      "user_editable": true,
      "rules": "nullable|string|max:200"
    }
  ]
}
