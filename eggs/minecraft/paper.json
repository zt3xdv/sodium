{
  "name": "Paper",
  "description": "High-performance Minecraft server fork with many optimizations",
  "author": "Sodium",
  "docker_images": {
    "Java 21": "eclipse-temurin:21-jre",
    "Java 17": "eclipse-temurin:17-jre"
  },
  "startup": "java -Xms128M -Xmx{{SERVER_MEMORY}}M -jar {{SERVER_JARFILE}}",
  "config": {
    "files": {
      "server.properties": {
        "parser": "properties",
        "find": {
          "server-port": "{{server.build.default.port}}"
        }
      }
    },
    "startup": {
      "done": ")! For help, type "
    },
    "stop": "stop"
  },
  "scripts": {
    "install": {
      "container": "eclipse-temurin:17-jre",
      "entrypoint": "/bin/bash",
      "script": "#!/bin/bash\ncd /mnt/server\nMC_VERSION=${MINECRAFT_VERSION:-1.20.4}\nBUILD=$(curl -s https://api.papermc.io/v2/projects/paper/versions/${MC_VERSION} | jq -r '.builds[-1]')\ncurl -o ${SERVER_JARFILE} https://api.papermc.io/v2/projects/paper/versions/${MC_VERSION}/builds/${BUILD}/downloads/paper-${MC_VERSION}-${BUILD}.jar\necho \"eula=true\" > eula.txt"
    }
  },
  "variables": [
    {
      "name": "Server JAR File",
      "description": "The name of the server JAR file",
      "env_variable": "SERVER_JARFILE",
      "default_value": "paper.jar",
      "user_viewable": true,
      "user_editable": true,
      "rules": "required|string|max:50"
    },
    {
      "name": "Minecraft Version",
      "description": "The version of Minecraft to install",
      "env_variable": "MINECRAFT_VERSION",
      "default_value": "1.20.4",
      "user_viewable": true,
      "user_editable": true,
      "rules": "required|string|max:10"
    }
  ]
}
