{
  "name": "Minecraft Vanilla",
  "description": "Official Minecraft Java Edition server",
  "author": "Sodium",
  "docker_images": {
    "Java 21": "eclipse-temurin:21-jre",
    "Java 17": "eclipse-temurin:17-jre",
    "Java 11": "eclipse-temurin:11-jre",
    "Java 8": "eclipse-temurin:8-jre"
  },
  "startup": "java -Xms128M -Xmx{{SERVER_MEMORY}}M -jar {{SERVER_JARFILE}}",
  "config": {
    "files": {
      "server.properties": {
        "parser": "properties",
        "find": {
          "server-port": "{{server.build.default.port}}"
        }
      }
    },
    "startup": {
      "done": ")! For help, type "
    },
    "stop": "stop"
  },
  "scripts": {
    "install": {
      "container": "eclipse-temurin:17-jre",
      "entrypoint": "/bin/bash",
      "script": "#!/bin/bash\ncd /mnt/server\ncurl -o ${SERVER_JARFILE} https://piston-data.mojang.com/v1/objects/${BUILD_NUMBER}/server.jar\necho \"eula=true\" > eula.txt"
    }
  },
  "variables": [
    {
      "name": "Server JAR File",
      "description": "The name of the server JAR file",
      "env_variable": "SERVER_JARFILE",
      "default_value": "server.jar",
      "user_viewable": true,
      "user_editable": true,
      "rules": "required|string|max:50"
    },
    {
      "name": "Build Number",
      "description": "Minecraft version build number",
      "env_variable": "BUILD_NUMBER",
      "default_value": "latest",
      "user_viewable": true,
      "user_editable": true,
      "rules": "required|string|max:20"
    }
  ]
}
