{
  "name": "Counter-Strike 2",
  "description": "Valve's Counter-Strike 2 dedicated server",
  "author": "Sodium",
  "docker_images": {
    "Steam Runtime": "cm2network/steamcmd:root"
  },
  "startup": "./cs2 -dedicated -port {{SERVER_PORT}} -maxplayers {{MAX_PLAYERS}} +map {{DEFAULT_MAP}} +sv_setsteamaccount {{STEAM_ACC}}",
  "config": {
    "files": {},
    "startup": {
      "done": "VAC secure mode"
    },
    "stop": "quit"
  },
  "scripts": {
    "install": {
      "container": "cm2network/steamcmd:root",
      "entrypoint": "/bin/bash",
      "script": "#!/bin/bash\ncd /mnt/server\n/home/steam/steamcmd/steamcmd.sh +force_install_dir /mnt/server +login anonymous +app_update 730 validate +quit"
    }
  },
  "variables": [
    {
      "name": "Server Port",
      "description": "The port the server will listen on",
      "env_variable": "SERVER_PORT",
      "default_value": "27015",
      "user_viewable": true,
      "user_editable": false,
      "rules": "required|integer|between:1024,65535"
    },
    {
      "name": "Max Players",
      "description": "Maximum number of players",
      "env_variable": "MAX_PLAYERS",
      "default_value": "16",
      "user_viewable": true,
      "user_editable": true,
      "rules": "required|integer|between:2,64"
    },
    {
      "name": "Default Map",
      "description": "The default map to load",
      "env_variable": "DEFAULT_MAP",
      "default_value": "de_dust2",
      "user_viewable": true,
      "user_editable": true,
      "rules": "required|string|max:32"
    },
    {
      "name": "Steam Account Token",
      "description": "Game Server Login Token from Steam",
      "env_variable": "STEAM_ACC",
      "default_value": "",
      "user_viewable": true,
      "user_editable": true,
      "rules": "nullable|string|size:32"
    }
  ]
}
